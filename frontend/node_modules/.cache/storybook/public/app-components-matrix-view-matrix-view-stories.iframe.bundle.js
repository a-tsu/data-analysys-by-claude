(self["webpackChunkdata_analysis_frontend"] = self["webpackChunkdata_analysis_frontend"] || []).push([["app-components-matrix-view-matrix-view-stories"],{

/***/ "./src/app/components/matrix-view/matrix-view.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/components/matrix-view/matrix-view.component.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MatrixViewComponent: () => (/* binding */ MatrixViewComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts_scss_ngResource_home_a_tsu_data_analysys_by_claude_frontend_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/app/components/matrix-view/matrix-view.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg!./src/app/components/matrix-view/matrix-view.component.ts */ "./src/app/components/matrix-view/matrix-view.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg!./src/app/components/matrix-view/matrix-view.component.ts");
/* harmony import */ var _home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts_scss_ngResource_home_a_tsu_data_analysys_by_claude_frontend_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts_scss_ngResource_home_a_tsu_data_analysys_by_claude_frontend_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2022/common.mjs");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/fesm2022/table.mjs");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/fesm2022/card.mjs");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/fesm2022/tabs.mjs");







let MatrixViewComponent = class MatrixViewComponent {
  constructor() {
    this.salesData = null;
    this.customerData = null;
    this.chartData = null;
    // カテゴリ×地域マトリクス
    this.categoryRegionMatrix = [];
    this.categoryRegionColumns = [];
    this.regions = [];
    this.categories = [];
    // 年齢層×満足度マトリクス
    this.ageSatisfactionMatrix = [];
    this.ageSatisfactionColumns = [];
    this.satisfactionLevels = [1, 2, 3, 4, 5];
    // 月別×カテゴリマトリクス
    this.monthCategoryMatrix = [];
    this.monthCategoryColumns = [];
  }
  ngOnChanges(changes) {
    if (changes['salesData'] || changes['customerData'] || changes['chartData']) {
      this.updateMatrixData();
    }
  }
  updateMatrixData() {
    if (this.salesData && this.customerData) {
      this.buildCategoryRegionMatrix();
      this.buildAgeSatisfactionMatrix();
      this.buildMonthCategoryMatrix();
    }
  }
  buildCategoryRegionMatrix() {
    if (!this.salesData) return;
    // 地域とカテゴリの一覧を取得
    this.regions = [...new Set(this.salesData.map(item => item.region))].sort();
    this.categories = [...new Set(this.salesData.map(item => item.category))].sort();
    // マトリクスデータを構築
    this.categoryRegionMatrix = this.categories.map(category => {
      const row = {
        category
      };
      let total = 0;
      this.regions.forEach(region => {
        const sales = this.salesData.filter(item => item.category === category && item.region === region).reduce((sum, item) => sum + item.sales, 0);
        row[region] = sales;
        total += sales;
      });
      row.total = total;
      return row;
    });
    // カラム定義を設定
    this.categoryRegionColumns = ['category', ...this.regions, 'total'];
  }
  buildAgeSatisfactionMatrix() {
    if (!this.customerData) return;
    // 年齢層を定義
    const ageGroups = ['18-29', '30-39', '40-49', '50-59', '60+'];
    this.ageSatisfactionMatrix = ageGroups.map(ageGroup => {
      const row = {
        ageGroup
      };
      let total = 0;
      this.satisfactionLevels.forEach(satisfaction => {
        const count = this.customerData.filter(customer => {
          const age = customer.age;
          const isInAgeGroup = this.isInAgeGroup(age, ageGroup);
          return isInAgeGroup && customer.satisfaction === satisfaction;
        }).length;
        row[`satisfaction_${satisfaction}`] = count;
        total += count;
      });
      row.total = total;
      return row;
    });
    // カラム定義を設定
    this.ageSatisfactionColumns = ['ageGroup', ...this.satisfactionLevels.map(s => `satisfaction_${s}`), 'total'];
  }
  buildMonthCategoryMatrix() {
    if (!this.salesData) return;
    // 月別データを構築
    const monthlyData = new Map();
    this.salesData.forEach(item => {
      const date = new Date(item.date);
      const monthKey = `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}`;
      if (!monthlyData.has(monthKey)) {
        monthlyData.set(monthKey, new Map());
      }
      const monthData = monthlyData.get(monthKey);
      const currentValue = monthData.get(item.category) || 0;
      monthData.set(item.category, currentValue + item.sales);
    });
    // マトリクスデータを構築
    this.monthCategoryMatrix = Array.from(monthlyData.entries()).sort((a, b) => a[0].localeCompare(b[0])).map(([month, categoryData]) => {
      const row = {
        month
      };
      let total = 0;
      this.categories.forEach(category => {
        const sales = categoryData.get(category) || 0;
        row[category] = sales;
        total += sales;
      });
      row.total = total;
      return row;
    });
    // カラム定義を設定
    this.monthCategoryColumns = ['month', ...this.categories, 'total'];
  }
  isInAgeGroup(age, ageGroup) {
    switch (ageGroup) {
      case '18-29':
        return age >= 18 && age <= 29;
      case '30-39':
        return age >= 30 && age <= 39;
      case '40-49':
        return age >= 40 && age <= 49;
      case '50-59':
        return age >= 50 && age <= 59;
      case '60+':
        return age >= 60;
      default:
        return false;
    }
  }
  formatCurrency(value) {
    if (!value) return '¥0';
    return new Intl.NumberFormat('ja-JP', {
      style: 'currency',
      currency: 'JPY',
      minimumFractionDigits: 0
    }).format(value);
  }
  static {
    this.propDecorators = {
      salesData: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
      }],
      customerData: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
      }],
      chartData: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
      }]
    };
  }
};
MatrixViewComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({
  selector: 'app-matrix-view',
  standalone: true,
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule, _angular_material_table__WEBPACK_IMPORTED_MODULE_4__.MatTableModule, _angular_material_card__WEBPACK_IMPORTED_MODULE_5__.MatCardModule, _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__.MatTabsModule],
  template: `
    <mat-card>
      <mat-card-header>
        <mat-card-title>マトリクス表示</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-tab-group>
          <!-- 売上カテゴリ × 地域マトリクス -->
          <mat-tab label="カテゴリ×地域">
            <div class="matrix-container">
              <table mat-table [dataSource]="categoryRegionMatrix" class="matrix-table">
                <ng-container matColumnDef="category">
                  <th mat-header-cell *matHeaderCellDef>カテゴリ</th>
                  <td mat-cell *matCellDef="let element">{{element.category}}</td>
                </ng-container>
                
                <ng-container *ngFor="let region of regions" [matColumnDef]="region">
                  <th mat-header-cell *matHeaderCellDef>{{region}}</th>
                  <td mat-cell *matCellDef="let element">
                    {{formatCurrency(element[region])}}
                  </td>
                </ng-container>
                
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef>合計</th>
                  <td mat-cell *matCellDef="let element" class="total-cell">
                    {{formatCurrency(element.total)}}
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="categoryRegionColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: categoryRegionColumns;"></tr>
              </table>
            </div>
          </mat-tab>

          <!-- 年齢層 × 満足度マトリクス -->
          <mat-tab label="年齢層×満足度">
            <div class="matrix-container">
              <table mat-table [dataSource]="ageSatisfactionMatrix" class="matrix-table">
                <ng-container matColumnDef="ageGroup">
                  <th mat-header-cell *matHeaderCellDef>年齢層</th>
                  <td mat-cell *matCellDef="let element">{{element.ageGroup}}</td>
                </ng-container>
                
                <ng-container *ngFor="let satisfaction of satisfactionLevels" [matColumnDef]="'satisfaction_' + satisfaction">
                  <th mat-header-cell *matHeaderCellDef>満足度{{satisfaction}}</th>
                  <td mat-cell *matCellDef="let element">
                    {{element['satisfaction_' + satisfaction] || 0}}人
                  </td>
                </ng-container>
                
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef>合計</th>
                  <td mat-cell *matCellDef="let element" class="total-cell">
                    {{element.total}}人
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="ageSatisfactionColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: ageSatisfactionColumns;"></tr>
              </table>
            </div>
          </mat-tab>

          <!-- 月別 × カテゴリマトリクス -->
          <mat-tab label="月別×カテゴリ">
            <div class="matrix-container">
              <table mat-table [dataSource]="monthCategoryMatrix" class="matrix-table">
                <ng-container matColumnDef="month">
                  <th mat-header-cell *matHeaderCellDef>月</th>
                  <td mat-cell *matCellDef="let element">{{element.month}}</td>
                </ng-container>
                
                <ng-container *ngFor="let category of categories" [matColumnDef]="category">
                  <th mat-header-cell *matHeaderCellDef>{{category}}</th>
                  <td mat-cell *matCellDef="let element">
                    {{formatCurrency(element[category])}}
                  </td>
                </ng-container>
                
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef>合計</th>
                  <td mat-cell *matCellDef="let element" class="total-cell">
                    {{formatCurrency(element.total)}}
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="monthCategoryColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: monthCategoryColumns;"></tr>
              </table>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
    </mat-card>
  `,
  styles: [(_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts_scss_ngResource_home_a_tsu_data_analysys_by_claude_frontend_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg_home_a_tsu_data_analysys_by_claude_frontend_src_app_components_matrix_view_matrix_view_component_ts__WEBPACK_IMPORTED_MODULE_0___default())]
})], MatrixViewComponent);


/***/ }),

/***/ "./src/app/components/matrix-view/matrix-view.stories.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/matrix-view/matrix-view.stories.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Default: () => (/* binding */ Default),
/* harmony export */   EmptyData: () => (/* binding */ EmptyData),
/* harmony export */   HighSatisfactionCustomers: () => (/* binding */ HighSatisfactionCustomers),
/* harmony export */   LowSatisfactionCustomers: () => (/* binding */ LowSatisfactionCustomers),
/* harmony export */   NullData: () => (/* binding */ NullData),
/* harmony export */   SingleCategoryRegion: () => (/* binding */ SingleCategoryRegion),
/* harmony export */   SmallDataset: () => (/* binding */ SmallDataset),
/* harmony export */   WideAgeRange: () => (/* binding */ WideAgeRange),
/* harmony export */   __namedExportsOrder: () => (/* binding */ __namedExportsOrder),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _matrix_view_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matrix-view.component */ "./src/app/components/matrix-view/matrix-view.component.ts");

const meta = {
  title: 'Components/MatrixView',
  component: _matrix_view_component__WEBPACK_IMPORTED_MODULE_0__.MatrixViewComponent,
  parameters: {
    layout: 'padded'
  },
  tags: ['autodocs'],
  argTypes: {
    salesData: {
      description: '売上データの配列',
      control: {
        type: 'object'
      }
    },
    customerData: {
      description: '顧客データの配列',
      control: {
        type: 'object'
      }
    },
    chartData: {
      description: 'チャートデータ',
      control: {
        type: 'object'
      }
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (meta);
// Generate comprehensive sample data
const generateSalesData = () => {
  const categories = ['Electronics', 'Books', 'Clothing', 'Home', 'Sports'];
  const regions = ['東京', '大阪', '名古屋', '福岡', '札幌'];
  const data = [];
  for (let month = 1; month <= 12; month++) {
    categories.forEach(category => {
      regions.forEach(region => {
        // Generate multiple entries per category/region/month
        for (let i = 0; i < Math.floor(Math.random() * 5) + 3; i++) {
          data.push({
            date: new Date(2024, month - 1, Math.floor(Math.random() * 28) + 1).toISOString().split('T')[0],
            sales: Math.floor(Math.random() * 200000) + 50000,
            category,
            region
          });
        }
      });
    });
  }
  return data;
};
const generateCustomerData = () => {
  const genders = ['男性', '女性'];
  const data = [];
  for (let i = 1; i <= 200; i++) {
    data.push({
      customer_id: i,
      age: Math.floor(Math.random() * 50) + 18,
      // 18-67
      gender: genders[Math.floor(Math.random() * genders.length)],
      purchase_amount: Math.floor(Math.random() * 500000) + 10000,
      satisfaction: Math.floor(Math.random() * 5) + 1 // 1-5
    });
  }
  return data;
};
const sampleSalesData = generateSalesData();
const sampleCustomerData = generateCustomerData();
const sampleChartData = {
  line_chart: [{
    x: '2024-01',
    y: 1500000
  }, {
    x: '2024-02',
    y: 1800000
  }, {
    x: '2024-03',
    y: 1600000
  }],
  pie_chart: [{
    x: 'Electronics',
    y: 3500000
  }, {
    x: 'Books',
    y: 2800000
  }],
  bar_chart: [{
    x: '東京',
    y: 4500000
  }, {
    x: '大阪',
    y: 3200000
  }],
  histogram: [25, 30, 35, 40, 45]
};
const Default = {
  args: {
    salesData: sampleSalesData,
    customerData: sampleCustomerData,
    chartData: sampleChartData
  }
};
const SmallDataset = {
  args: {
    salesData: [{
      date: '2024-01-15',
      sales: 125000,
      category: 'Electronics',
      region: '東京'
    }, {
      date: '2024-01-16',
      sales: 89000,
      category: 'Books',
      region: '大阪'
    }, {
      date: '2024-02-15',
      sales: 156000,
      category: 'Electronics',
      region: '東京'
    }, {
      date: '2024-02-16',
      sales: 203000,
      category: 'Clothing',
      region: '名古屋'
    }],
    customerData: [{
      customer_id: 1,
      age: 28,
      gender: '男性',
      purchase_amount: 125000,
      satisfaction: 4
    }, {
      customer_id: 2,
      age: 35,
      gender: '女性',
      purchase_amount: 89000,
      satisfaction: 5
    }, {
      customer_id: 3,
      age: 45,
      gender: '男性',
      purchase_amount: 156000,
      satisfaction: 3
    }, {
      customer_id: 4,
      age: 65,
      gender: '女性',
      purchase_amount: 203000,
      satisfaction: 2
    }],
    chartData: sampleChartData
  }
};
const SingleCategoryRegion = {
  args: {
    salesData: [{
      date: '2024-01-15',
      sales: 125000,
      category: 'Electronics',
      region: '東京'
    }, {
      date: '2024-01-16',
      sales: 89000,
      category: 'Electronics',
      region: '東京'
    }, {
      date: '2024-01-17',
      sales: 156000,
      category: 'Electronics',
      region: '東京'
    }],
    customerData: [{
      customer_id: 1,
      age: 28,
      gender: '男性',
      purchase_amount: 125000,
      satisfaction: 4
    }, {
      customer_id: 2,
      age: 29,
      gender: '女性',
      purchase_amount: 89000,
      satisfaction: 4
    }],
    chartData: sampleChartData
  }
};
const HighSatisfactionCustomers = {
  args: {
    salesData: sampleSalesData.slice(0, 20),
    customerData: sampleCustomerData.slice(0, 50).map(customer => ({
      ...customer,
      satisfaction: Math.floor(Math.random() * 2) + 4 // 4-5 only
    })),
    chartData: sampleChartData
  }
};
const LowSatisfactionCustomers = {
  args: {
    salesData: sampleSalesData.slice(0, 20),
    customerData: sampleCustomerData.slice(0, 50).map(customer => ({
      ...customer,
      satisfaction: Math.floor(Math.random() * 2) + 1 // 1-2 only
    })),
    chartData: sampleChartData
  }
};
const WideAgeRange = {
  args: {
    salesData: sampleSalesData.slice(0, 30),
    customerData: [...Array.from({
      length: 20
    }, (_, i) => ({
      customer_id: i + 1,
      age: 18 + i,
      // 18-37
      gender: i % 2 === 0 ? '男性' : '女性',
      purchase_amount: Math.floor(Math.random() * 100000) + 50000,
      satisfaction: Math.floor(Math.random() * 5) + 1
    })), ...Array.from({
      length: 20
    }, (_, i) => ({
      customer_id: i + 21,
      age: 40 + i,
      // 40-59
      gender: i % 2 === 0 ? '男性' : '女性',
      purchase_amount: Math.floor(Math.random() * 200000) + 100000,
      satisfaction: Math.floor(Math.random() * 5) + 1
    })), ...Array.from({
      length: 10
    }, (_, i) => ({
      customer_id: i + 41,
      age: 60 + i,
      // 60-69
      gender: i % 2 === 0 ? '男性' : '女性',
      purchase_amount: Math.floor(Math.random() * 150000) + 75000,
      satisfaction: Math.floor(Math.random() * 5) + 1
    }))],
    chartData: sampleChartData
  }
};
const EmptyData = {
  args: {
    salesData: [],
    customerData: [],
    chartData: {
      line_chart: [],
      pie_chart: [],
      bar_chart: [],
      histogram: []
    }
  }
};
const NullData = {
  args: {
    salesData: null,
    customerData: null,
    chartData: null
  }
};
Default.parameters = {
  ...Default.parameters,
  docs: {
    ...Default.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: sampleSalesData,\n    customerData: sampleCustomerData,\n    chartData: sampleChartData\n  }\n}",
      ...Default.parameters?.docs?.source
    }
  }
};
SmallDataset.parameters = {
  ...SmallDataset.parameters,
  docs: {
    ...SmallDataset.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: [{\n      date: '2024-01-15',\n      sales: 125000,\n      category: 'Electronics',\n      region: '\u6771\u4EAC'\n    }, {\n      date: '2024-01-16',\n      sales: 89000,\n      category: 'Books',\n      region: '\u5927\u962A'\n    }, {\n      date: '2024-02-15',\n      sales: 156000,\n      category: 'Electronics',\n      region: '\u6771\u4EAC'\n    }, {\n      date: '2024-02-16',\n      sales: 203000,\n      category: 'Clothing',\n      region: '\u540D\u53E4\u5C4B'\n    }],\n    customerData: [{\n      customer_id: 1,\n      age: 28,\n      gender: '\u7537\u6027',\n      purchase_amount: 125000,\n      satisfaction: 4\n    }, {\n      customer_id: 2,\n      age: 35,\n      gender: '\u5973\u6027',\n      purchase_amount: 89000,\n      satisfaction: 5\n    }, {\n      customer_id: 3,\n      age: 45,\n      gender: '\u7537\u6027',\n      purchase_amount: 156000,\n      satisfaction: 3\n    }, {\n      customer_id: 4,\n      age: 65,\n      gender: '\u5973\u6027',\n      purchase_amount: 203000,\n      satisfaction: 2\n    }],\n    chartData: sampleChartData\n  }\n}",
      ...SmallDataset.parameters?.docs?.source
    }
  }
};
SingleCategoryRegion.parameters = {
  ...SingleCategoryRegion.parameters,
  docs: {
    ...SingleCategoryRegion.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: [{\n      date: '2024-01-15',\n      sales: 125000,\n      category: 'Electronics',\n      region: '\u6771\u4EAC'\n    }, {\n      date: '2024-01-16',\n      sales: 89000,\n      category: 'Electronics',\n      region: '\u6771\u4EAC'\n    }, {\n      date: '2024-01-17',\n      sales: 156000,\n      category: 'Electronics',\n      region: '\u6771\u4EAC'\n    }],\n    customerData: [{\n      customer_id: 1,\n      age: 28,\n      gender: '\u7537\u6027',\n      purchase_amount: 125000,\n      satisfaction: 4\n    }, {\n      customer_id: 2,\n      age: 29,\n      gender: '\u5973\u6027',\n      purchase_amount: 89000,\n      satisfaction: 4\n    }],\n    chartData: sampleChartData\n  }\n}",
      ...SingleCategoryRegion.parameters?.docs?.source
    }
  }
};
HighSatisfactionCustomers.parameters = {
  ...HighSatisfactionCustomers.parameters,
  docs: {
    ...HighSatisfactionCustomers.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: sampleSalesData.slice(0, 20),\n    customerData: sampleCustomerData.slice(0, 50).map(customer => ({\n      ...customer,\n      satisfaction: Math.floor(Math.random() * 2) + 4 // 4-5 only\n    })),\n    chartData: sampleChartData\n  }\n}",
      ...HighSatisfactionCustomers.parameters?.docs?.source
    }
  }
};
LowSatisfactionCustomers.parameters = {
  ...LowSatisfactionCustomers.parameters,
  docs: {
    ...LowSatisfactionCustomers.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: sampleSalesData.slice(0, 20),\n    customerData: sampleCustomerData.slice(0, 50).map(customer => ({\n      ...customer,\n      satisfaction: Math.floor(Math.random() * 2) + 1 // 1-2 only\n    })),\n    chartData: sampleChartData\n  }\n}",
      ...LowSatisfactionCustomers.parameters?.docs?.source
    }
  }
};
WideAgeRange.parameters = {
  ...WideAgeRange.parameters,
  docs: {
    ...WideAgeRange.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: sampleSalesData.slice(0, 30),\n    customerData: [...Array.from({\n      length: 20\n    }, (_, i) => ({\n      customer_id: i + 1,\n      age: 18 + i,\n      // 18-37\n      gender: i % 2 === 0 ? '\u7537\u6027' : '\u5973\u6027',\n      purchase_amount: Math.floor(Math.random() * 100000) + 50000,\n      satisfaction: Math.floor(Math.random() * 5) + 1\n    })), ...Array.from({\n      length: 20\n    }, (_, i) => ({\n      customer_id: i + 21,\n      age: 40 + i,\n      // 40-59\n      gender: i % 2 === 0 ? '\u7537\u6027' : '\u5973\u6027',\n      purchase_amount: Math.floor(Math.random() * 200000) + 100000,\n      satisfaction: Math.floor(Math.random() * 5) + 1\n    })), ...Array.from({\n      length: 10\n    }, (_, i) => ({\n      customer_id: i + 41,\n      age: 60 + i,\n      // 60-69\n      gender: i % 2 === 0 ? '\u7537\u6027' : '\u5973\u6027',\n      purchase_amount: Math.floor(Math.random() * 150000) + 75000,\n      satisfaction: Math.floor(Math.random() * 5) + 1\n    }))],\n    chartData: sampleChartData\n  }\n}",
      ...WideAgeRange.parameters?.docs?.source
    }
  }
};
EmptyData.parameters = {
  ...EmptyData.parameters,
  docs: {
    ...EmptyData.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: [],\n    customerData: [],\n    chartData: {\n      line_chart: [],\n      pie_chart: [],\n      bar_chart: [],\n      histogram: []\n    }\n  }\n}",
      ...EmptyData.parameters?.docs?.source
    }
  }
};
NullData.parameters = {
  ...NullData.parameters,
  docs: {
    ...NullData.parameters?.docs,
    source: {
      originalSource: "{\n  args: {\n    salesData: null,\n    customerData: null,\n    chartData: null\n  }\n}",
      ...NullData.parameters?.docs?.source
    }
  }
};;const __namedExportsOrder = ["Default","SmallDataset","SingleCategoryRegion","HighSatisfactionCustomers","LowSatisfactionCustomers","WideAgeRange","EmptyData","NullData"];

/***/ }),

/***/ "./src/app/components/matrix-view/matrix-view.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg!./src/app/components/matrix-view/matrix-view.component.ts":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./src/app/components/matrix-view/matrix-view.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAubWF0cml4LWNvbnRhaW5lciB7CiAgICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICAgIG92ZXJmbG93LXg6IGF1dG87CiAgICB9CgogICAgLm1hdHJpeC10YWJsZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBtaW4td2lkdGg6IDYwMHB4OwogICAgfQoKICAgIC50b3RhbC1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICB9CgogICAgdGgubWF0LWhlYWRlci1jZWxsIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KCiAgICB0ZC5tYXQtY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRoLm1hdC1oZWFkZXItY2VsbCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIC5tYXQtdGFiLWdyb3VwIHsKICAgICAgbWFyZ2luLXRvcDogMTZweDsKICAgIH0KCiAgICAubWF0LXRhYi1ib2R5LWNvbnRlbnQgewogICAgICBwYWRkaW5nOiAxNnB4IDA7CiAgICB9CiAg!./src/app/components/matrix-view/matrix-view.component.ts ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "./node_modules/css-loader/dist/runtime/noSourceMaps.js");
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
var ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.matrix-container {
  margin-top: 16px;
  overflow-x: auto;
}

.matrix-table {
  width: 100%;
  min-width: 600px;
}

.total-cell {
  font-weight: bold;
  background-color: #f5f5f5;
}

th.mat-header-cell {
  font-weight: bold;
  background-color: #3f51b5;
  color: white;
}

td.mat-cell {
  text-align: center;
  padding: 8px;
}

th.mat-header-cell {
  text-align: center;
  padding: 8px;
}

.mat-tab-group {
  margin-top: 16px;
}

.mat-tab-body-content {
  padding: 16px 0;
}`, ""]);
// Exports
module.exports = ___CSS_LOADER_EXPORT___.toString();


/***/ })

}]);
//# sourceMappingURL=app-components-matrix-view-matrix-view-stories.iframe.bundle.js.map